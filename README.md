# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 

ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒ¬ãƒãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚æŠ•è³‡åˆ†æã€ç¨å‹™æˆ¦ç•¥ã€ç›¸ç¶šå¯¾ç­–ãªã©ã®å°‚é–€çš„ãªãƒ¬ãƒãƒ¼ãƒˆã‚’AIã§ç”Ÿæˆã—ã¾ã™ã€‚

## ğŸ¯ ä¸»ãªæ©Ÿèƒ½

### ğŸ“Š ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- **æŠ•è³‡åˆ†æï¼ˆ4éƒ¨æ§‹æˆï¼‰**: Executive Summaryã€Benefitsã€Risksã€Evidence
- **ç¨å‹™æˆ¦ç•¥ï¼ˆæ¸›ä¾¡å„Ÿå´ï¼‰**: å¹´åãƒ»å®¶æ—æ§‹æˆã‚’è€ƒæ…®ã—ãŸç¯€ç¨åˆ†æ
- **ç›¸ç¶šå¯¾ç­–æˆ¦ç•¥**: è³‡ç”£æƒ…å ±ãƒ»æ³•å®šç›¸ç¶šäººã‚’åŸºã«ã—ãŸç›¸ç¶šç¨å¯¾ç­–
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**: ç‹¬è‡ªã®åˆ†æè¦æ±‚ã«å¯¾å¿œ

### ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
- **è©¦ç”¨æœŸé–“ã‚·ã‚¹ãƒ†ãƒ **: 2é€±é–“ã¾ãŸã¯15å›ã®åˆ©ç”¨åˆ¶é™
- **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **: Firebase Authentication
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¿å­˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†

### ğŸ”§ ç®¡ç†æ©Ÿèƒ½
- **Admin Dashboard**: ä½¿ç”¨çµ±è¨ˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
- **è©¦ç”¨æœŸé–“çµ±è¨ˆ**: ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡ã€åˆ©ç”¨çŠ¶æ³åˆ†æ
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†**: å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç¢ºèªãƒ»å‰Šé™¤

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
npm install
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
```bash
# .env.exampleã‚’ã‚³ãƒ”ãƒ¼ã—ã¦.envã‚’ä½œæˆ
cp .env.example .env

# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å®Ÿéš›ã®å€¤ã‚’è¨­å®š
# - OPENAI_API_KEY: OpenAIã®APIã‚­ãƒ¼
# - JWT_SECRET: ãƒ©ãƒ³ãƒ€ãƒ ãªæ–‡å­—åˆ—ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç”¨ï¼‰
# - Firebaseé–¢é€£ã®è¨­å®šå€¤
```

### 3. Firebaseè¨­å®š
```bash
# Firebaseè¨­å®šã®æ¤œè¨¼
npm run firebase:validate

# ç’°å¢ƒå¤‰æ•°ãƒã‚§ãƒƒã‚¯
npm run firebase:env-check

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–
npm run db:init

# ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
npm run admin:init
```

### 4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
# é€šå¸¸ã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
npm run dev

# ã¾ãŸã¯ã€ãƒ‡ãƒãƒƒã‚°ç”¨ã‚µãƒ¼ãƒãƒ¼ï¼ˆå•é¡ŒãŒã‚ã‚‹å ´åˆï¼‰
npm run debug
```

ã‚µãƒ¼ãƒãƒ¼ã¯ `http://localhost:3000` ã§èµ·å‹•ã—ã¾ã™ã€‚

### ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

ãƒ¬ãƒãƒ¼ãƒˆç”ŸæˆãŒå‹•ä½œã—ãªã„å ´åˆï¼š

1. **ç’°å¢ƒå¤‰æ•°ã®ç¢ºèª**
   ```bash
   npm run firebase:env-check
   ```

2. **ãƒ‡ãƒãƒƒã‚°ã‚µãƒ¼ãƒãƒ¼ã§ãƒ†ã‚¹ãƒˆ**
   ```bash
   npm run debug
   # http://localhost:3001 ã§ã‚¢ã‚¯ã‚»ã‚¹
   ```

3. **APIã‚­ãƒ¼ã®ç¢ºèª**
   - OpenAI APIã‚­ãƒ¼ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
   - Firebaseè¨­å®šãŒæ­£ã—ã„ã‹

4. **ãƒ­ã‚°ã®ç¢ºèª**
   - ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
   - ã‚µãƒ¼ãƒãƒ¼ã®ãƒ­ã‚°ã‚’ç¢ºèª

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
npm run test:all
```

### å€‹åˆ¥ãƒ†ã‚¹ãƒˆ
```bash
npm run test:auth      # èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
npm run test:reports   # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆãƒ†ã‚¹ãƒˆ
npm run test:trial     # è©¦ç”¨æœŸé–“ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
â”œâ”€â”€ api/                    # API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ auth/              # èªè¨¼é–¢é€£
â”‚   â”œâ”€â”€ admin/             # ç®¡ç†è€…æ©Ÿèƒ½
â”‚   â”œâ”€â”€ custom-prompts/    # ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†
â”‚   â””â”€â”€ trial/             # è©¦ç”¨æœŸé–“ç®¡ç†
â”œâ”€â”€ lib/                   # ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ firebase-admin.js  # Firebase Admin SDK
â”‚   â”œâ”€â”€ firebase-db.js     # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â”‚   â””â”€â”€ auth.js           # èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼
â”œâ”€â”€ scripts/              # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ PROMPTS/              # ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ *.html               # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”»é¢
â””â”€â”€ test-*.js           # ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

## ğŸ”‘ ç’°å¢ƒå¤‰æ•°

`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã‚’è¨­å®šï¼š

```env
# Firebaseè¨­å®š
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxx@your-project.iam.gserviceaccount.com

# JWTè¨­å®š
JWT_SECRET=your-jwt-secret-key

# OpenAIè¨­å®š
OPENAI_API_KEY=your-openai-api-key

# ãã®ä»–
NODE_ENV=development
```

## ğŸ’° è©¦ç”¨æœŸé–“ã‚·ã‚¹ãƒ†ãƒ 

### åˆ¶é™å†…å®¹
- **æœŸé–“åˆ¶é™**: ç™»éŒ²ã‹ã‚‰2é€±é–“
- **åˆ©ç”¨åˆ¶é™**: ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ15å›ã¾ã§
- **åˆ¶é™åˆ°é”æ™‚**: æœ‰æ–™ãƒ—ãƒ©ãƒ³ã¸ã®èª˜å°

### æ–™é‡‘ãƒ—ãƒ©ãƒ³
- **ãƒ™ãƒ¼ã‚·ãƒƒã‚¯**: Â¥2,980/æœˆï¼ˆæœˆ50å›ã¾ã§ï¼‰
- **ãƒ—ãƒ­**: Â¥4,980/æœˆï¼ˆç„¡åˆ¶é™ï¼‰
- **ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º**: ãŠå•ã„åˆã‚ã›

## ğŸ›  é–‹ç™º

### API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### èªè¨¼
- `POST /api/auth/register-firebase` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
- `POST /api/auth/login-firebase` - ãƒ­ã‚°ã‚¤ãƒ³
- `GET /api/auth/me-firebase` - ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—
- `POST /api/auth/logout` - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

#### ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- `POST /api/generate-firebase` - ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

#### è©¦ç”¨æœŸé–“
- `GET /api/trial/status` - è©¦ç”¨æœŸé–“çŠ¶æ³ç¢ºèª
- `POST /api/trial/upgrade` - ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ¢ï¼‰

#### ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
- `POST /api/custom-prompts/save` - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¿å­˜
- `GET /api/custom-prompts/list` - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¸€è¦§
- `DELETE /api/custom-prompts/delete` - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå‰Šé™¤

#### ç®¡ç†è€…
- `GET /api/admin/stats-firebase` - ä½¿ç”¨çµ±è¨ˆ
- `GET /api/admin/trial-stats` - è©¦ç”¨æœŸé–“çµ±è¨ˆ
- `GET /api/admin/custom-prompts` - ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

#### users ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
```javascript
{
  id: string,
  email: string,
  password: string,
  role: 'user' | 'admin',
  isActive: boolean,
  // è©¦ç”¨æœŸé–“æƒ…å ±
  trialStartDate: timestamp,
  trialEndDate: timestamp,
  trialUsageCount: number,
  trialMaxUsage: number,
  subscriptionStatus: 'trial' | 'trial_expired' | 'active',
  subscriptionPlan: string | null
}
```

#### custom_prompts ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
```javascript
{
  id: string,
  userId: string,
  userEmail: string,
  title: string,
  content: string,
  description: string,
  tags: string[],
  isActive: boolean,
  createdAt: timestamp,
  updatedAt: timestamp
}
```

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯å•†ç”¨åˆ©ç”¨ã‚’æƒ³å®šã—ãŸæœ‰æ–™ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚

## ğŸ¤ ã‚µãƒãƒ¼ãƒˆ

æŠ€è¡“çš„ãªå•é¡Œã‚„è³ªå•ã«ã¤ã„ã¦ã¯ã€é–‹ç™ºãƒãƒ¼ãƒ ã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚